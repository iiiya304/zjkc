<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>智价侃成 - 智能定价助手</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script>tailwind.config={theme:{extend:{colors:{primary:'#568441'},borderRadius:{'none':'0px','sm':'2px',DEFAULT:'4px','md':'8px','lg':'12px','xl':'16px','2xl':'20px','3xl':'24px','full':'9999px','button':'4px'}}}}</script>
<style>
body {
  min-height: 1024px;
  background-color: #F9FAFB;
}
.chat-container::-webkit-scrollbar {
  width: 6px;
}
.chat-container::-webkit-scrollbar-track {
  background: #f1f1f1;
}
.chat-container::-webkit-scrollbar-thumb {
  background: #888;
  border-radius: 3px;
}
.chat-container::-webkit-scrollbar-thumb:hover {
  background: #555;
}
#drop-zone {
  transition: all 0.3s ease;
}
</style>
</head>
<body>
<div class="w-[1440px] mx-auto">
  <nav class="bg-white shadow-sm">
    <div class="px-8 mx-auto">
      <div class="flex justify-between h-16 items-center">
        <div class="flex items-center">
          <a href="shouye.html" class="text-2xl text-primary">🔙</a>
        </div>
        <div class="flex items-center space-x-8">
          <a href="function1.html" class="text-gray-600 hover:text-primary">慧砍</a>
          <a href="function2.html" class="text-gray-600 hover:text-primary">似砍</a>
          <a href="function3.html" class="text-primary font-medium">拟定</a>
        </div>
      </div>
    </div>
  </nav>

  <main class="px-8 py-12">
    <div class="max-w-4xl mx-auto">
      <h1 class="text-3xl font-bold text-gray-900 mb-8">智能定价助手</h1>
      
      <div class="bg-white rounded-lg shadow-sm p-8 mb-8">
        <div class="flex items-start space-x-6">
          <div class="flex-1">
            <div class="mb-6">
              <label class="block text-sm font-medium text-gray-700 mb-2">商品描述</label>
              <textarea class="w-full h-32 px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-none" 
                        placeholder="请详细描述您的商品信息，包括品牌、材质、规格等..."></textarea>
            </div>

            <!-- 修改后的上传组件 -->
            <div class="mb-6">
              <label class="block text-sm font-medium text-gray-700 mb-2">上传图片</label>
              <div id="drop-zone" class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center relative">
                <input type="file" id="file-input" 
                       class="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
                       accept="image/jpeg, image/png" multiple>
                <div class="space-y-2 pointer-events-none">
                  <i class="fas fa-cloud-upload-alt text-4xl text-gray-400"></i>
                  <p class="text-sm text-gray-500">点击或拖拽文件到这里上传</p>
                  <p class="text-xs text-gray-400">支持 JPG、PNG 格式，单张大小不超过 5MB</p>
                </div>
                <div id="preview-container" class="mt-4 flex flex-wrap gap-2"></div>
              </div>
            </div>

            <div class="grid grid-cols-2 gap-6 mb-6">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">目标受众</label>
                <div class="relative">
                  <button class="w-full flex items-center justify-between px-4 py-2 border border-gray-300 rounded-md bg-white text-sm !rounded-button">
                    <span>选择目标受众</span>
                    <i class="fas fa-chevron-down text-gray-400"></i>
                  </button>
                </div>
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">销售渠道</label>
                <div class="relative">
                  <button class="w-full flex items-center justify-between px-4 py-2 border border-gray-300 rounded-md bg-white text-sm !rounded-button">
                    <span>选择销售渠道</span>
                    <i class="fas fa-chevron-down text-gray-400"></i>
                  </button>
                </div>
              </div>
            </div>

            <div class="grid grid-cols-2 gap-6 mb-8">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">成本价格</label>
                <div class="relative">
                  <input type="text" 
                         class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" 
                         placeholder="输入商品成本">
                  <span class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400">¥</span>
                </div>
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">期望利润率</label>
                <div class="relative">
                  <input type="text" 
                         class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" 
                         placeholder="输入期望利润率">
                  <span class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400">%</span>
                </div>
              </div>
            </div>
<button class="w-full bg-primary text-white py-3 font-medium !rounded-button whitespace-nowrap">
开始智能定价分析
</button>
</div>
</div>
</div>
<div class="bg-white rounded-lg shadow-sm p-8">
<h2 class="text-xl font-semibold text-gray-900 mb-6">历史定价建议</h2>
<div class="space-y-6">
<div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
<div>
<p class="text-sm text-gray-600">建议售价区间</p>
<p class="text-2xl font-semibold text-primary mt-1">¥299 - ¥399</p>
</div>
<div>
<p class="text-sm text-gray-600">最优定价</p>
<p class="text-2xl font-semibold text-primary mt-1">¥349</p>
</div>
<div>
<p class="text-sm text-gray-600">预期利润率</p>
<p class="text-2xl font-semibold text-primary mt-1">32%</p>
</div>
</div>
<div class="space-y-4">
<h3 class="text-lg font-medium text-gray-900">市场分析</h3>
<div class="p-4 bg-gray-50 rounded-lg">
<ul class="space-y-3 text-sm text-gray-600">
<li class="flex items-start">
<i class="fas fa-chart-line mt-1 mr-3 text-primary"></i>
<span>根据市场调研，同类产品平均售价在 ¥320 左右，建议价格略高于市场均价以突出产品价值。</span>
</li>
<li class="flex items-start">
<i class="fas fa-users mt-1 mr-3 text-primary"></i>
<span>目标受众的消费能力和心理价位区间在 ¥300-400 之间，当前定价符合消费者预期。</span>
</li>
<li class="flex items-start">
<i class="fas fa-store mt-1 mr-3 text-primary"></i>
<span>选择的销售渠道平台费率约为 5%，已在定价中考虑相关成本。</span>
</li>
</ul>
</div>
</div>
<div class="space-y-4">
<h3 class="text-lg font-medium text-gray-900">优化建议</h3>
<div class="p-4 bg-gray-50 rounded-lg">
<ul class="space-y-3 text-sm text-gray-600">
<li class="flex items-start">
<i class="fas fa-lightbulb mt-1 mr-3 text-primary"></i>
<span>建议采用"999-349"的定价策略，突出价格优势。</span>
</li>
<li class="flex items-start">
<i class="fas fa-tags mt-1 mr-3 text-primary"></i>
<span>可以考虑设置阶梯价格，购买数量越多优惠越大，刺激批量购买。</span>
</li>
<li class="flex items-start">
<i class="fas fa-percentage mt-1 mr-3 text-primary"></i>
<span>建议在节假日期间可以适当调整价格策略，配合平台活动提升销量。</span>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</main>
</div>
<script>
    const dropZone = document.getElementById('drop-zone');
    const fileInput = document.getElementById('file-input');
    const previewContainer = document.getElementById('preview-container');
    
    // 点击触发文件选择
    dropZone.addEventListener('click', () => fileInput.click());
    
    // 拖放功能
    dropZone.addEventListener('dragover', (e) => {
      e.preventDefault();
      dropZone.classList.add('border-primary', 'bg-gray-50');
    });
    
    dropZone.addEventListener('dragleave', () => {
      dropZone.classList.remove('border-primary', 'bg-gray-50');
    });
    
    dropZone.addEventListener('drop', (e) => {
      e.preventDefault();
      dropZone.classList.remove('border-primary', 'bg-gray-50');
      handleFiles(e.dataTransfer.files);
    });
    
    // 文件选择处理
    fileInput.addEventListener('change', (e) => {
      handleFiles(e.target.files);
    });
    
    function handleFiles(files) {
      for (const file of files) {
        if (!validateFile(file)) return;
        previewFile(file);
      }
    }
    
    function validateFile(file) {
      const validTypes = ['image/jpeg', 'image/png'];
      const maxSize = 5 * 1024 * 1024; // 5MB
      
      if (!validTypes.includes(file.type)) {
        alert('仅支持 JPG/PNG 格式文件');
        return false;
      }
      
      if (file.size > maxSize) {
        alert('文件大小超过5MB限制');
        return false;
      }
      
      return true;
    }
    
    function previewFile(file) {
      const reader = new FileReader();
      reader.onload = (e) => {
        const img = document.createElement('img');
        img.src = e.target.result;
        img.className = 'h-24 w-24 object-cover rounded-lg shadow-sm';
        previewContainer.appendChild(img);
      };
      reader.readAsDataURL(file);
    }
    
    // 表单提交示例（需要对接实际API）
    document.querySelector('button').addEventListener('click', async () => {
      const formData = new FormData();
      const files = fileInput.files;
      
      // 添加其他表单数据
      formData.append('description', document.querySelector('textarea').value);
      
      // 添加图片文件
      for (const file of files) {
        formData.append('images', file);
      }
      
      try {
        const response = await fetch('/api/analyze-price', {
          method: 'POST',
          body: formData
        });
        
        if (!response.ok) throw new Error('请求失败');
        const result = await response.json();
        
        // 处理返回结果
        console.log('分析结果:', result);
        // 这里可以添加更新UI的逻辑
        
      } catch (error) {
        console.error('分析失败:', error);
        alert('分析失败，请稍后重试');
      }
    });
    </script>
    </body>
    </html>