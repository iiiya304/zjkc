<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æ™ºä»·ä¾ƒæˆ - æ™ºèƒ½å®šä»·åŠ©æ‰‹</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script>tailwind.config={theme:{extend:{colors:{primary:'#568441'},borderRadius:{'none':'0px','sm':'2px',DEFAULT:'4px','md':'8px','lg':'12px','xl':'16px','2xl':'20px','3xl':'24px','full':'9999px','button':'4px'}}}}</script>
<style>
body {
  min-height: 1024px;
  background-color: #F9FAFB;
}
.chat-container::-webkit-scrollbar {
  width: 6px;
}
.chat-container::-webkit-scrollbar-track {
  background: #f1f1f1;
}
.chat-container::-webkit-scrollbar-thumb {
  background: #888;
  border-radius: 3px;
}
.chat-container::-webkit-scrollbar-thumb:hover {
  background: #555;
}
#drop-zone {
  transition: all 0.3s ease;
}
</style>
</head>
<body>
<div class="w-[1440px] mx-auto">
  <nav class="bg-white shadow-sm">
    <div class="px-8 mx-auto">
      <div class="flex justify-between h-16 items-center">
        <div class="flex items-center">
          <a href="shouye.html" class="text-2xl text-primary">ğŸ”™</a>
        </div>
        <div class="flex items-center space-x-8">
          <a href="function1.html" class="text-gray-600 hover:text-primary">æ…§ç </a>
          <a href="function2.html" class="text-gray-600 hover:text-primary">ä¼¼ç </a>
          <a href="function3.html" class="text-primary font-medium">æ‹Ÿå®š</a>
        </div>
      </div>
    </div>
  </nav>

  <main class="px-8 py-12">
    <div class="max-w-4xl mx-auto">
      <h1 class="text-3xl font-bold text-gray-900 mb-8">æ™ºèƒ½å®šä»·åŠ©æ‰‹</h1>
      
      <div class="bg-white rounded-lg shadow-sm p-8 mb-8">
        <div class="flex items-start space-x-6">
          <div class="flex-1">
            <div class="mb-6">
              <label class="block text-sm font-medium text-gray-700 mb-2">å•†å“æè¿°</label>
              <textarea class="w-full h-32 px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-none" 
                        placeholder="è¯·è¯¦ç»†æè¿°æ‚¨çš„å•†å“ä¿¡æ¯ï¼ŒåŒ…æ‹¬å“ç‰Œã€æè´¨ã€è§„æ ¼ç­‰..."></textarea>
            </div>

            <!-- ä¿®æ”¹åçš„ä¸Šä¼ ç»„ä»¶ -->
            <div class="mb-6">
              <label class="block text-sm font-medium text-gray-700 mb-2">ä¸Šä¼ å›¾ç‰‡</label>
              <div id="drop-zone" class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center relative">
                <input type="file" id="file-input" 
                       class="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
                       accept="image/jpeg, image/png" multiple>
                <div class="space-y-2 pointer-events-none">
                  <i class="fas fa-cloud-upload-alt text-4xl text-gray-400"></i>
                  <p class="text-sm text-gray-500">ç‚¹å‡»æˆ–æ‹–æ‹½æ–‡ä»¶åˆ°è¿™é‡Œä¸Šä¼ </p>
                  <p class="text-xs text-gray-400">æ”¯æŒ JPGã€PNG æ ¼å¼ï¼Œå•å¼ å¤§å°ä¸è¶…è¿‡ 5MB</p>
                </div>
                <div id="preview-container" class="mt-4 flex flex-wrap gap-2"></div>
              </div>
            </div>

            <div class="grid grid-cols-2 gap-6 mb-6">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">ç›®æ ‡å—ä¼—</label>
                <div class="relative">
                  <button class="w-full flex items-center justify-between px-4 py-2 border border-gray-300 rounded-md bg-white text-sm !rounded-button">
                    <span>é€‰æ‹©ç›®æ ‡å—ä¼—</span>
                    <i class="fas fa-chevron-down text-gray-400"></i>
                  </button>
                </div>
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">é”€å”®æ¸ é“</label>
                <div class="relative">
                  <button class="w-full flex items-center justify-between px-4 py-2 border border-gray-300 rounded-md bg-white text-sm !rounded-button">
                    <span>é€‰æ‹©é”€å”®æ¸ é“</span>
                    <i class="fas fa-chevron-down text-gray-400"></i>
                  </button>
                </div>
              </div>
            </div>

            <div class="grid grid-cols-2 gap-6 mb-8">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">æˆæœ¬ä»·æ ¼</label>
                <div class="relative">
                  <input type="text" 
                         class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" 
                         placeholder="è¾“å…¥å•†å“æˆæœ¬">
                  <span class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400">Â¥</span>
                </div>
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">æœŸæœ›åˆ©æ¶¦ç‡</label>
                <div class="relative">
                  <input type="text" 
                         class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" 
                         placeholder="è¾“å…¥æœŸæœ›åˆ©æ¶¦ç‡">
                  <span class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400">%</span>
                </div>
              </div>
            </div>
<button class="w-full bg-primary text-white py-3 font-medium !rounded-button whitespace-nowrap">
å¼€å§‹æ™ºèƒ½å®šä»·åˆ†æ
</button>
</div>
</div>
</div>
<div class="bg-white rounded-lg shadow-sm p-8">
<h2 class="text-xl font-semibold text-gray-900 mb-6">å†å²å®šä»·å»ºè®®</h2>
<div class="space-y-6">
<div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
<div>
<p class="text-sm text-gray-600">å»ºè®®å”®ä»·åŒºé—´</p>
<p class="text-2xl font-semibold text-primary mt-1">Â¥299 - Â¥399</p>
</div>
<div>
<p class="text-sm text-gray-600">æœ€ä¼˜å®šä»·</p>
<p class="text-2xl font-semibold text-primary mt-1">Â¥349</p>
</div>
<div>
<p class="text-sm text-gray-600">é¢„æœŸåˆ©æ¶¦ç‡</p>
<p class="text-2xl font-semibold text-primary mt-1">32%</p>
</div>
</div>
<div class="space-y-4">
<h3 class="text-lg font-medium text-gray-900">å¸‚åœºåˆ†æ</h3>
<div class="p-4 bg-gray-50 rounded-lg">
<ul class="space-y-3 text-sm text-gray-600">
<li class="flex items-start">
<i class="fas fa-chart-line mt-1 mr-3 text-primary"></i>
<span>æ ¹æ®å¸‚åœºè°ƒç ”ï¼ŒåŒç±»äº§å“å¹³å‡å”®ä»·åœ¨ Â¥320 å·¦å³ï¼Œå»ºè®®ä»·æ ¼ç•¥é«˜äºå¸‚åœºå‡ä»·ä»¥çªå‡ºäº§å“ä»·å€¼ã€‚</span>
</li>
<li class="flex items-start">
<i class="fas fa-users mt-1 mr-3 text-primary"></i>
<span>ç›®æ ‡å—ä¼—çš„æ¶ˆè´¹èƒ½åŠ›å’Œå¿ƒç†ä»·ä½åŒºé—´åœ¨ Â¥300-400 ä¹‹é—´ï¼Œå½“å‰å®šä»·ç¬¦åˆæ¶ˆè´¹è€…é¢„æœŸã€‚</span>
</li>
<li class="flex items-start">
<i class="fas fa-store mt-1 mr-3 text-primary"></i>
<span>é€‰æ‹©çš„é”€å”®æ¸ é“å¹³å°è´¹ç‡çº¦ä¸º 5%ï¼Œå·²åœ¨å®šä»·ä¸­è€ƒè™‘ç›¸å…³æˆæœ¬ã€‚</span>
</li>
</ul>
</div>
</div>
<div class="space-y-4">
<h3 class="text-lg font-medium text-gray-900">ä¼˜åŒ–å»ºè®®</h3>
<div class="p-4 bg-gray-50 rounded-lg">
<ul class="space-y-3 text-sm text-gray-600">
<li class="flex items-start">
<i class="fas fa-lightbulb mt-1 mr-3 text-primary"></i>
<span>å»ºè®®é‡‡ç”¨"999-349"çš„å®šä»·ç­–ç•¥ï¼Œçªå‡ºä»·æ ¼ä¼˜åŠ¿ã€‚</span>
</li>
<li class="flex items-start">
<i class="fas fa-tags mt-1 mr-3 text-primary"></i>
<span>å¯ä»¥è€ƒè™‘è®¾ç½®é˜¶æ¢¯ä»·æ ¼ï¼Œè´­ä¹°æ•°é‡è¶Šå¤šä¼˜æƒ è¶Šå¤§ï¼Œåˆºæ¿€æ‰¹é‡è´­ä¹°ã€‚</span>
</li>
<li class="flex items-start">
<i class="fas fa-percentage mt-1 mr-3 text-primary"></i>
<span>å»ºè®®åœ¨èŠ‚å‡æ—¥æœŸé—´å¯ä»¥é€‚å½“è°ƒæ•´ä»·æ ¼ç­–ç•¥ï¼Œé…åˆå¹³å°æ´»åŠ¨æå‡é”€é‡ã€‚</span>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</main>
</div>
<script>
    const dropZone = document.getElementById('drop-zone');
    const fileInput = document.getElementById('file-input');
    const previewContainer = document.getElementById('preview-container');
    
    // ç‚¹å‡»è§¦å‘æ–‡ä»¶é€‰æ‹©
    dropZone.addEventListener('click', () => fileInput.click());
    
    // æ‹–æ”¾åŠŸèƒ½
    dropZone.addEventListener('dragover', (e) => {
      e.preventDefault();
      dropZone.classList.add('border-primary', 'bg-gray-50');
    });
    
    dropZone.addEventListener('dragleave', () => {
      dropZone.classList.remove('border-primary', 'bg-gray-50');
    });
    
    dropZone.addEventListener('drop', (e) => {
      e.preventDefault();
      dropZone.classList.remove('border-primary', 'bg-gray-50');
      handleFiles(e.dataTransfer.files);
    });
    
    // æ–‡ä»¶é€‰æ‹©å¤„ç†
    fileInput.addEventListener('change', (e) => {
      handleFiles(e.target.files);
    });
    
    function handleFiles(files) {
      for (const file of files) {
        if (!validateFile(file)) return;
        previewFile(file);
      }
    }
    
    function validateFile(file) {
      const validTypes = ['image/jpeg', 'image/png'];
      const maxSize = 5 * 1024 * 1024; // 5MB
      
      if (!validTypes.includes(file.type)) {
        alert('ä»…æ”¯æŒ JPG/PNG æ ¼å¼æ–‡ä»¶');
        return false;
      }
      
      if (file.size > maxSize) {
        alert('æ–‡ä»¶å¤§å°è¶…è¿‡5MBé™åˆ¶');
        return false;
      }
      
      return true;
    }
    
    function previewFile(file) {
      const reader = new FileReader();
      reader.onload = (e) => {
        const img = document.createElement('img');
        img.src = e.target.result;
        img.className = 'h-24 w-24 object-cover rounded-lg shadow-sm';
        previewContainer.appendChild(img);
      };
      reader.readAsDataURL(file);
    }
    
    // è¡¨å•æäº¤ç¤ºä¾‹ï¼ˆéœ€è¦å¯¹æ¥å®é™…APIï¼‰
    document.querySelector('button').addEventListener('click', async () => {
      const formData = new FormData();
      const files = fileInput.files;
      
      // æ·»åŠ å…¶ä»–è¡¨å•æ•°æ®
      formData.append('description', document.querySelector('textarea').value);
      
      // æ·»åŠ å›¾ç‰‡æ–‡ä»¶
      for (const file of files) {
        formData.append('images', file);
      }
      
      try {
        const response = await fetch('/api/analyze-price', {
          method: 'POST',
          body: formData
        });
        
        if (!response.ok) throw new Error('è¯·æ±‚å¤±è´¥');
        const result = await response.json();
        
        // å¤„ç†è¿”å›ç»“æœ
        console.log('åˆ†æç»“æœ:', result);
        // è¿™é‡Œå¯ä»¥æ·»åŠ æ›´æ–°UIçš„é€»è¾‘
        
      } catch (error) {
        console.error('åˆ†æå¤±è´¥:', error);
        alert('åˆ†æå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•');
      }
    });
    </script>
    </body>
    </html>